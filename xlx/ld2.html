<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>联动2</title>
</head>
<body>
	<p>查询城市:<select name="" id="sf">
		<option value="">省份</option>
	</select>
	<select name="" id="sq">
		<option value="">市区</option>
	</select></p>
	<p>车牌号码:<select name="" id="ch">
		<option value="">车</option>
	</select><select name="" >
		<option value="">S</option>
	</select><input type="text"></p>
	<p>车辆类型: <input type="text"></p>
	<p id="p1" style="display: none;">车架号码:<input type="text"></p>
	<p id="p2" style="display: none;">发动机号码:<input type="text"></p>
	<script>
		window.onload=function(){
			var a=0;
			var b=0;
		var sun=0;
			var osf=document.getElementById('sf');
			var op1=document.getElementById('p1');
			var op2=document.getElementById('p2');
			var osq=document.getElementById('sq');
			var osqt=osq.getElementsByTagName('option');
			
			var och=document.getElementById('ch');
			var ocht=och.getElementsByTagName('option');
			var osfArr=[];
			var osqArr=[];
			var ochArr=[];
			osfArr[0]=['山西'];
			osfArr[1]=['陕西'];
			osfArr[2]=['青海'];
			osfArr[3]=['广州'];
			osqArr[0]=['山西','1'];
			osqArr[1]=['陕西','2'];
			osqArr[2]=['青海','3'];
			osqArr[3]=['广州','4'];
			ochArr[0]=['1','A'];
			ochArr[1]=['2','B'];
			ochArr[2]=['3','C'];
			ochArr[3]=['4','D'];
			for(var key in osfArr){//创建省
			var option=document.createElement('option');
			option.text=osfArr[key];
			osf.appendChild(option);

		}
		osf.onchange=function(){//创建市
				function fnt(sun){
				for(var i=0;i<sun;i++){
				osq.remove(osqt[i]);
			}
				
		}
				function fnt1(sun1){
					for(var i=0;i<sun1;i++){
				och.remove(ocht[i]);
			}
				}


			function fn(){	
			for(var i=0;i<osqArr.length;i++){
				if(osqArr[i][0]==osf.value){//联动
					a=osqArr[i].length;
					for(var j=1;j<a;j++){
						var option=document.createElement('option');
						option.text=osqArr[i][j];
						osq.appendChild(option);
						osq.value=osqArr[i][1];	
					}
				}

			}
			
			return a;
			
		}
		function fn1(){
			for(var i=0;i<ochArr.length;i++){
				if(ochArr[i][0]==osq.value){
					b=ochArr[i].length;
					for(var j=1;j<b;j++){
						var option=document.createElement('option');
						option.text=ochArr[i][j];
						och.appendChild(option);
						och.value=ochArr[i][1];	
					}
				}
			}
			return b;
		}
		ift();
		fnt(a);
		fnt1(b);
		fn();
		fn1();

		}
		function ift(){
			p1.style.display='none';
			p2.style.display='none';
		if(osf.value=='青海'){
			p1.style.display='block';
		}
		if(osf.value=='陕西'){
			p2.style.display='block';
		}
		if(osf.value=='广州'){
			p1.style.display='block';
			p2.style.display='block';
		}}
		}
	</script>
</body>
</html>